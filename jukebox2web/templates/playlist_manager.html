<!DOCTYPE html>
{% load staticfiles %}
<head>
    <title>Playlist Manager</title>
    <meta charset="utf-8">
    <link href='{% static 'css/jquery-ui.min.css' %}' rel="stylesheet">

    <script type="text/javascript" src='{% static "js/jquery.js" %}'></script>
    <script type="text/javascript" src='{% static "js/jquery-ui.js" %}'></script>
    <script type="text/javascript" src='{% static "js/jlayout/jquery.sizes.js" %}'></script>
    <script type="text/javascript" src='{% static "js/jlayout/jlayout.border.js" %}'></script>
    <script type="text/javascript" src='{% static "js/jlayout/jlayout.grid.js" %}'></script>
    <script type="text/javascript" src='{% static "js/jlayout/jlayout.flexgrid.js" %}'></script>
    <script type="text/javascript" src='{% static "js/jlayout/jlayout.flow.js" %}'></script>
    <script type="text/javascript" src='{% static "js/jlayout/jquery.jlayout.js" %}'></script>

    <script type="text/javascript">
        jQuery(function($)
        {
            var container = $('.page_layout');
            var album_viewer = $('.album_viewer')
            var albums_list = $('.albums_list');
            var album_musics = $('.album_musics');
            var album_artwork = $('.album_artwork');

            function relayout() {
                container.layout({resize: false});
                album_musics.height('auto');
                album_artwork.height('auto');
                album_viewer.layout({resize: true});
                albums_list.layout({resize: false});
            }
            relayout();
            relayout();

            $(window).resize(relayout);

            $('.music_set_editor').layout({
                fill: 'vertical'
            });

            $( ".library_music" ).draggable({
                revert: 'invalid',
                helper: function() {
                    var h = $('<div class="dragged_music"></div>');
                    h.append($(this).find('.name, .artist, .album').clone());
                    return h;
                },
                appendTo: $('.page_layout'),
                scroll: false,
                zIndex: 100
            });
            $( ".playlist_slot" ).droppable({
                drop: function( event, ui ) {
                    var music = ui.draggable.find(".name").text()
                    $( this )
                            .addClass( "ui-state-highlight" )
                            .find( "p" )
                            .html( music );
                },
                hoverClass: "music_slot_hoovered"
            });

        });

    </script>

    <style>
        html, body {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            overflow: hidden;
        }

        .page_layout {
            height: 100%;
        }

        .library_col, .artists_col, .music_set_col {
            background-color: rgb(220,220,220);
            border: 1px solid rgb(200,200,200);
            display: inline-block;
        }
        
        .playlist_slot {
            background-color: rgb(220,220,220);
            border: 1px solid rgb(200,200,200);
            text-align: center;
            width: 200px;
            height: 60px;
            display: inline-block;
        }

        .library_music {
            background-color: rgb(220,220,220);
            border: 1px solid rgb(200,200,200);
            text-align: center;
            width: 200px;
            height: 120px;
            display: inline-block;
            z-index: 100;
        }

        .library_music > .hide_in_lib{
            display: none;
        }

        .music_slot_hoovered {
            background-color: rgb(200,200,200);
        }

        .artists_col {
            width: 150px;
            text-align: justify;
            display: inline-block;
            overflow: auto;
            z-index: 1;
        }

        .musics_col {
            height: 100%;
            width: auto;
            text-align: justify;
            display: inline-block;
            overflow-y: scroll;
            overflow-x: auto;
            z-index: 3;
        }

        .music_set_col {
            width: 400px;
            z-index: 2;
            overflow-y: scroll;
            overflow-x: auto;
        }

        .albums_list {
            height: auto;
            overflow: visible;
        }

        .album_viewer {
            width: 100%;
        }

        .album_title, .album_artwork, .album_musics {
            background-color: rgb(220,220,220);
            border: 1px solid rgb(200,200,200);
        }

        .album_artwork {
            width: 200px;
            height: 200px;
        }

        .album_musics {
            width: 100%;
            max-width: 100%;
            height: auto;
        }

        .album_title {
            width: 100%;
        }

        .library_col {
            overflow: auto;
        }


    </style>



</head>
<body>



<div data-layout='{"type": "border", "hgap": 3, "vgap": 3}' class="page_layout">

    <div class="artists_col west">
        Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>
        Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>
        Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>Artists<br/>
    </div>

    <div class="center library_col">

        <div data-layout='{"type": "flexGrid", "columns": 1 }' class="albums_list">
            {% include "playlist_manager/album_viewer.html" %}
            {% include "playlist_manager/album_viewer.html" %}
        </div>

    </div>

    <div class="east music_set_col">

        {% include "playlist_manager/music_set_editor.html" %}

    </div>

</div>
</body>
</html>
